{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Parth Sawant\\\\OneDrive\\\\Desktop\\\\Ambulance\\\\Ambulance-tracker\\\\Web\\\\clients\\\\hospital-display\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport { useState } from 'react';\nimport { io } from 'socket.io-client';\nimport Coords from './components/Coords';\nimport Nav from './components/Nav';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst socket = io('http://localhost:5000');\nfunction App() {\n  _s();\n  const [coords, setCoords] = useState([]);\n  document.title = \"Ambulance Tracker\";\n  socket.on('reply', datum => {\n    const parsedData = JSON.parse(datum);\n    setCoords(prev => {\n      let index = prev.length;\n      let part1 = prev.slice(0, index);\n      let part2 = prev.slice(index);\n      prev.map(coord => {\n        if (coord.id === parsedData.id) {\n          index = prev.indexOf(coord);\n          part1 = prev.slice(0, index);\n          part2 = prev.slice(index + 1);\n        }\n        return null;\n      });\n      return [...part1, parsedData, ...part2];\n    });\n  });\n  socket.on('disconnect-client', uniqid => {\n    setCoords(prev => {\n      return prev.filter(coord => coord.id !== uniqid);\n    });\n  });\n  const sendID = () => {\n    console.log('ID sent');\n    socket.emit('send-id', socket.id);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Nav, {\n      onsendID: sendID\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Coords, {\n      coords: coords\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"SVDA0EkswF7l+s3JQY7qSuiAavM=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["useState","io","Coords","Nav","jsxDEV","_jsxDEV","socket","App","_s","coords","setCoords","document","title","on","datum","parsedData","JSON","parse","prev","index","length","part1","slice","part2","map","coord","id","indexOf","uniqid","filter","sendID","console","log","emit","children","onsendID","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/Parth Sawant/OneDrive/Desktop/Ambulance/Ambulance-tracker/Web/clients/hospital-display/src/App.js"],"sourcesContent":["import { useState } from 'react';\r\nimport { io } from 'socket.io-client';\r\nimport Coords from './components/Coords';\r\nimport Nav from './components/Nav';\r\n\r\nconst socket = io('http://localhost:5000');\r\n\r\nfunction App() {\r\n\r\n  const [coords, setCoords] = useState([]);\r\n  document.title=\"Ambulance Tracker\"\r\n  socket.on('reply', (datum) => {\r\n    const parsedData = JSON.parse(datum);\r\n    setCoords(prev => {\r\n\r\n      let index = prev.length;\r\n      let part1 = prev.slice(0, index);\r\n      let part2 = prev.slice(index);\r\n\r\n      prev.map(coord => {\r\n        if (coord.id === parsedData.id) {\r\n          index = prev.indexOf(coord);\r\n          part1 = prev.slice(0, index);\r\n          part2 = prev.slice(index + 1);\r\n        }\r\n        return null;\r\n      });\r\n\r\n      return [...part1, parsedData, ...part2];\r\n    });\r\n  });\r\n\r\n  socket.on('disconnect-client', (uniqid) => {\r\n    setCoords(prev => {\r\n      return prev.filter(coord => coord.id !== uniqid);\r\n    });\r\n  })\r\n\r\n  const sendID = () => {\r\n    console.log('ID sent');\r\n    socket.emit('send-id', socket.id);\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Nav onsendID={sendID} />\r\n      <Coords coords={coords} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;"],"mappings":";;AAAA,SAASA,QAAQ,QAAQ,OAAO;AAChC,SAASC,EAAE,QAAQ,kBAAkB;AACrC,OAAOC,MAAM,MAAM,qBAAqB;AACxC,OAAOC,GAAG,MAAM,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEnC,MAAMC,MAAM,GAAGL,EAAE,CAAC,uBAAuB,CAAC;AAE1C,SAASM,GAAGA,CAAA,EAAG;EAAAC,EAAA;EAEb,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGV,QAAQ,CAAC,EAAE,CAAC;EACxCW,QAAQ,CAACC,KAAK,GAAC,mBAAmB;EAClCN,MAAM,CAACO,EAAE,CAAC,OAAO,EAAGC,KAAK,IAAK;IAC5B,MAAMC,UAAU,GAAGC,IAAI,CAACC,KAAK,CAACH,KAAK,CAAC;IACpCJ,SAAS,CAACQ,IAAI,IAAI;MAEhB,IAAIC,KAAK,GAAGD,IAAI,CAACE,MAAM;MACvB,IAAIC,KAAK,GAAGH,IAAI,CAACI,KAAK,CAAC,CAAC,EAAEH,KAAK,CAAC;MAChC,IAAII,KAAK,GAAGL,IAAI,CAACI,KAAK,CAACH,KAAK,CAAC;MAE7BD,IAAI,CAACM,GAAG,CAACC,KAAK,IAAI;QAChB,IAAIA,KAAK,CAACC,EAAE,KAAKX,UAAU,CAACW,EAAE,EAAE;UAC9BP,KAAK,GAAGD,IAAI,CAACS,OAAO,CAACF,KAAK,CAAC;UAC3BJ,KAAK,GAAGH,IAAI,CAACI,KAAK,CAAC,CAAC,EAAEH,KAAK,CAAC;UAC5BI,KAAK,GAAGL,IAAI,CAACI,KAAK,CAACH,KAAK,GAAG,CAAC,CAAC;QAC/B;QACA,OAAO,IAAI;MACb,CAAC,CAAC;MAEF,OAAO,CAAC,GAAGE,KAAK,EAAEN,UAAU,EAAE,GAAGQ,KAAK,CAAC;IACzC,CAAC,CAAC;EACJ,CAAC,CAAC;EAEFjB,MAAM,CAACO,EAAE,CAAC,mBAAmB,EAAGe,MAAM,IAAK;IACzClB,SAAS,CAACQ,IAAI,IAAI;MAChB,OAAOA,IAAI,CAACW,MAAM,CAACJ,KAAK,IAAIA,KAAK,CAACC,EAAE,KAAKE,MAAM,CAAC;IAClD,CAAC,CAAC;EACJ,CAAC,CAAC;EAEF,MAAME,MAAM,GAAGA,CAAA,KAAM;IACnBC,OAAO,CAACC,GAAG,CAAC,SAAS,CAAC;IACtB1B,MAAM,CAAC2B,IAAI,CAAC,SAAS,EAAE3B,MAAM,CAACoB,EAAE,CAAC;EACnC,CAAC;EAED,oBACErB,OAAA;IAAA6B,QAAA,gBACE7B,OAAA,CAACF,GAAG;MAACgC,QAAQ,EAAEL;IAAO;MAAAM,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eACzBlC,OAAA,CAACH,MAAM;MAACO,MAAM,EAAEA;IAAO;MAAA2B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACvB,CAAC;AAEV;AAAC/B,EAAA,CA1CQD,GAAG;AAAAiC,EAAA,GAAHjC,GAAG;AA4CZ,eAAeA,GAAG;AAAC,IAAAiC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}